{
  "stats": {
    "suites": 6,
    "tests": 14,
    "passes": 6,
    "pending": 0,
    "failures": 8,
    "start": "2017-11-03T08:25:49.478Z",
    "end": "2017-11-03T08:25:49.693Z",
    "duration": 215,
    "testsRegistered": 14,
    "passPercent": 42.9,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false,
    "passPercentClass": "danger",
    "pendingPercentClass": "danger"
  },
  "suites": {
    "title": "",
    "suites": [
      {
        "title": "用户管理",
        "suites": [
          {
            "title": "POST /api/admin/users",
            "suites": [],
            "tests": [
              {
                "title": "查询用户列表-未设置Authorization",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-未设置Authorization",
                "timedOut": false,
                "duration": 37,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "7b8da301-5df8-4653-9085-d21f705a8cb5",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-无效的Token",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-无效的Token",
                "timedOut": false,
                "duration": 11,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').set('Authorization', 'xxx.yyy.zzz').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "08fb8da5-5536-467b-89b5-514fb2e31e8e",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-普通用户无权限访问",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-普通用户无权限访问",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').set('Authorization', user_token).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(403);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected undefined to equal 403",
                  "estack": "AssertionError: expected undefined to equal 403\n    at test/admin/user.test.js:37:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
                },
                "isRoot": false,
                "uuid": "5d2d18ab-c4c3-4970-b316-b6cd23070d11",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-默认",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-默认",
                "timedOut": false,
                "duration": 7,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "6483e2a5-471a-4547-8bdb-1414600c958a",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-模糊查询用户名",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-模糊查询用户名",
                "timedOut": false,
                "duration": 8,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').send({\n    username: account.username\n}).set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "4d7c5802-5c2c-40f3-8b7b-04350373f75c",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-带分页参数",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-带分页参数",
                "timedOut": false,
                "duration": 6,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users?page=2&per_page=3').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('users', 'current_page', 'total_count');\n    expect(res.body.current_page).to.equal(2);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "265378af-2e0f-4943-8361-5e3515f8f41d",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              }
            ],
            "pending": [],
            "root": false,
            "_timeout": 2000,
            "file": "/test/admin/user.test.js",
            "uuid": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
            "beforeHooks": [],
            "afterHooks": [],
            "fullFile": "/Users/leon/WorkSpace/node/Node/test/admin/user.test.js",
            "passes": [
              {
                "title": "查询用户列表-未设置Authorization",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-未设置Authorization",
                "timedOut": false,
                "duration": 37,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "7b8da301-5df8-4653-9085-d21f705a8cb5",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-无效的Token",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-无效的Token",
                "timedOut": false,
                "duration": 11,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').set('Authorization', 'xxx.yyy.zzz').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "08fb8da5-5536-467b-89b5-514fb2e31e8e",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-默认",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-默认",
                "timedOut": false,
                "duration": 7,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "6483e2a5-471a-4547-8bdb-1414600c958a",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-模糊查询用户名",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-模糊查询用户名",
                "timedOut": false,
                "duration": 8,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').send({\n    username: account.username\n}).set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "4d7c5802-5c2c-40f3-8b7b-04350373f75c",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "查询用户列表-带分页参数",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-带分页参数",
                "timedOut": false,
                "duration": 6,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.post(base_url + '/admin/users?page=2&per_page=3').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('users', 'current_page', 'total_count');\n    expect(res.body.current_page).to.equal(2);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "265378af-2e0f-4943-8361-5e3515f8f41d",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              }
            ],
            "failures": [
              {
                "title": "查询用户列表-普通用户无权限访问",
                "fullTitle": "用户管理 POST /api/admin/users 查询用户列表-普通用户无权限访问",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/admin/users').set('Authorization', user_token).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(403);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected undefined to equal 403",
                  "estack": "AssertionError: expected undefined to equal 403\n    at test/admin/user.test.js:37:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
                },
                "isRoot": false,
                "uuid": "5d2d18ab-c4c3-4970-b316-b6cd23070d11",
                "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
                "isHook": false,
                "skipped": false
              }
            ],
            "skipped": [],
            "hasBeforeHooks": false,
            "hasAfterHooks": false,
            "hasTests": true,
            "hasSuites": false,
            "totalTests": 6,
            "totalPasses": 5,
            "totalFailures": 1,
            "totalPending": 0,
            "totalSkipped": 0,
            "hasPasses": true,
            "hasFailures": true,
            "hasPending": false,
            "hasSkipped": false,
            "duration": 69,
            "rootEmpty": false
          },
          {
            "title": "PUT /api/admin/users/:id/:status",
            "suites": [],
            "tests": [
              {
                "title": "更改用户状态",
                "fullTitle": "用户管理 PUT /api/admin/users/:id/:status 更改用户状态",
                "timedOut": false,
                "duration": 5,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.put(base_url + '/admin//users/70a5c0eb-6aba-483f-8a09-bda2f39a97fc/2').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(201);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "18c88aea-272e-4cba-b3ce-fa0accc9615d",
                "parentUUID": "6e30d9e1-b6d1-42d9-9ca2-adfcaf80eeee",
                "isHook": false,
                "skipped": false
              }
            ],
            "pending": [],
            "root": false,
            "_timeout": 2000,
            "file": "/test/admin/user.test.js",
            "uuid": "6e30d9e1-b6d1-42d9-9ca2-adfcaf80eeee",
            "beforeHooks": [],
            "afterHooks": [],
            "fullFile": "/Users/leon/WorkSpace/node/Node/test/admin/user.test.js",
            "passes": [
              {
                "title": "更改用户状态",
                "fullTitle": "用户管理 PUT /api/admin/users/:id/:status 更改用户状态",
                "timedOut": false,
                "duration": 5,
                "state": "passed",
                "speed": "fast",
                "pass": true,
                "fail": false,
                "pending": false,
                "code": "request.put(base_url + '/admin//users/70a5c0eb-6aba-483f-8a09-bda2f39a97fc/2').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(201);\n    done();\n});",
                "err": {},
                "isRoot": false,
                "uuid": "18c88aea-272e-4cba-b3ce-fa0accc9615d",
                "parentUUID": "6e30d9e1-b6d1-42d9-9ca2-adfcaf80eeee",
                "isHook": false,
                "skipped": false
              }
            ],
            "failures": [],
            "skipped": [],
            "hasBeforeHooks": false,
            "hasAfterHooks": false,
            "hasTests": true,
            "hasSuites": false,
            "totalTests": 1,
            "totalPasses": 1,
            "totalFailures": 0,
            "totalPending": 0,
            "totalSkipped": 0,
            "hasPasses": true,
            "hasFailures": false,
            "hasPending": false,
            "hasSkipped": false,
            "duration": 5,
            "rootEmpty": false
          }
        ],
        "tests": [],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/test/admin/user.test.js",
        "uuid": "368a647a-76bc-4fab-ada9-308737f1a8a9",
        "beforeHooks": [],
        "afterHooks": [],
        "fullFile": "/Users/leon/WorkSpace/node/Node/test/admin/user.test.js",
        "passes": [],
        "failures": [],
        "skipped": [],
        "hasBeforeHooks": false,
        "hasAfterHooks": false,
        "hasTests": false,
        "hasSuites": true,
        "totalTests": 0,
        "totalPasses": 0,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": false,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 0,
        "rootEmpty": false
      },
      {
        "title": "个人中心",
        "suites": [
          {
            "title": "POST /api/signup",
            "suites": [],
            "tests": [
              {
                "title": "用户注册-成功",
                "fullTitle": "个人中心 POST /api/signup 用户注册-成功",
                "timedOut": false,
                "duration": 18,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    console.log(res.status);\n    expect(res.status).to.equal(201);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 201",
                  "estack": "AssertionError: expected 200 to equal 201\n    at test/user.test.js:28:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:692:16)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 201\n"
                },
                "isRoot": false,
                "uuid": "653179b8-8b11-4683-ba49-dba9c7a22fe2",
                "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户注册-请完善注册信息",
                "fullTitle": "个人中心 POST /api/signup 用户注册-请完善注册信息",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/signup').send({}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);           \n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 400",
                  "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:35:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 400\n"
                },
                "isRoot": false,
                "uuid": "0bc26033-b729-4e0f-a3b2-ee7b7460e7bd",
                "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户注册-用户名已存在",
                "fullTitle": "个人中心 POST /api/signup 用户注册-用户名已存在",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);       \n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 400",
                  "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:42:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 400\n"
                },
                "isRoot": false,
                "uuid": "8af087a4-be35-401f-8d9e-50aeb805325d",
                "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
                "isHook": false,
                "skipped": false
              }
            ],
            "pending": [],
            "root": false,
            "_timeout": 2000,
            "file": "/test/user.test.js",
            "uuid": "86e89460-160a-4853-97f7-581a68c229ab",
            "beforeHooks": [],
            "afterHooks": [],
            "fullFile": "/Users/leon/WorkSpace/node/Node/test/user.test.js",
            "passes": [],
            "failures": [
              {
                "title": "用户注册-成功",
                "fullTitle": "个人中心 POST /api/signup 用户注册-成功",
                "timedOut": false,
                "duration": 18,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    console.log(res.status);\n    expect(res.status).to.equal(201);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 201",
                  "estack": "AssertionError: expected 200 to equal 201\n    at test/user.test.js:28:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:692:16)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 201\n"
                },
                "isRoot": false,
                "uuid": "653179b8-8b11-4683-ba49-dba9c7a22fe2",
                "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户注册-请完善注册信息",
                "fullTitle": "个人中心 POST /api/signup 用户注册-请完善注册信息",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/signup').send({}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);           \n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 400",
                  "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:35:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 400\n"
                },
                "isRoot": false,
                "uuid": "0bc26033-b729-4e0f-a3b2-ee7b7460e7bd",
                "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户注册-用户名已存在",
                "fullTitle": "个人中心 POST /api/signup 用户注册-用户名已存在",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);       \n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 400",
                  "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:42:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 400\n"
                },
                "isRoot": false,
                "uuid": "8af087a4-be35-401f-8d9e-50aeb805325d",
                "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
                "isHook": false,
                "skipped": false
              }
            ],
            "skipped": [],
            "hasBeforeHooks": false,
            "hasAfterHooks": false,
            "hasTests": true,
            "hasSuites": false,
            "totalTests": 3,
            "totalPasses": 0,
            "totalFailures": 3,
            "totalPending": 0,
            "totalSkipped": 0,
            "hasPasses": false,
            "hasFailures": true,
            "hasPending": false,
            "hasSkipped": false,
            "duration": 18,
            "rootEmpty": false
          },
          {
            "title": "POST /api/login",
            "suites": [],
            "tests": [
              {
                "title": "用户登录-成功",
                "fullTitle": "个人中心 POST /api/login 用户登录-成功",
                "timedOut": false,
                "duration": 14,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: account.password\n}).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('user', 'token');\n    done();\n});",
                "err": {
                  "message": "Error: Internal Server Error",
                  "estack": "Error: Internal Server Error\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:699:13)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
                },
                "isRoot": false,
                "uuid": "cd33f405-d0cf-4f7f-9ef6-dcfdd9538e92",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户登录-用户名或密码不能为空",
                "fullTitle": "个人中心 POST /api/login 用户登录-用户名或密码不能为空",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: '',\n    password: ''\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 400",
                  "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:68:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 400\n"
                },
                "isRoot": false,
                "uuid": "49ea02b7-bcb6-43e4-ae62-26d2ac7f7c94",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户登录-用户名不存在",
                "fullTitle": "个人中心 POST /api/login 用户登录-用户名不存在",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: (new Date()).getTime().toString(),\n    password: account.password\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(404);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 500 to equal 404",
                  "estack": "AssertionError: expected 500 to equal 404\n    at test/user.test.js:78:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 500\n+ 404\n"
                },
                "isRoot": false,
                "uuid": "516c7a01-2d22-4eb4-ba02-18ebec58064e",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户登录-密码错误",
                "fullTitle": "个人中心 POST /api/login 用户登录-密码错误",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: (new Date()).getTime().toString()\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(401);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 500 to equal 401",
                  "estack": "AssertionError: expected 500 to equal 401\n    at test/user.test.js:88:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 500\n+ 401\n"
                },
                "isRoot": false,
                "uuid": "3d4cf513-dfa5-4f33-9211-760447dd59de",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              }
            ],
            "pending": [],
            "root": false,
            "_timeout": 2000,
            "file": "/test/user.test.js",
            "uuid": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
            "beforeHooks": [],
            "afterHooks": [],
            "fullFile": "/Users/leon/WorkSpace/node/Node/test/user.test.js",
            "passes": [],
            "failures": [
              {
                "title": "用户登录-成功",
                "fullTitle": "个人中心 POST /api/login 用户登录-成功",
                "timedOut": false,
                "duration": 14,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: account.password\n}).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('user', 'token');\n    done();\n});",
                "err": {
                  "message": "Error: Internal Server Error",
                  "estack": "Error: Internal Server Error\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:699:13)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
                },
                "isRoot": false,
                "uuid": "cd33f405-d0cf-4f7f-9ef6-dcfdd9538e92",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户登录-用户名或密码不能为空",
                "fullTitle": "个人中心 POST /api/login 用户登录-用户名或密码不能为空",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: '',\n    password: ''\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 200 to equal 400",
                  "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:68:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 200\n+ 400\n"
                },
                "isRoot": false,
                "uuid": "49ea02b7-bcb6-43e4-ae62-26d2ac7f7c94",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户登录-用户名不存在",
                "fullTitle": "个人中心 POST /api/login 用户登录-用户名不存在",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: (new Date()).getTime().toString(),\n    password: account.password\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(404);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 500 to equal 404",
                  "estack": "AssertionError: expected 500 to equal 404\n    at test/user.test.js:78:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 500\n+ 404\n"
                },
                "isRoot": false,
                "uuid": "516c7a01-2d22-4eb4-ba02-18ebec58064e",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              },
              {
                "title": "用户登录-密码错误",
                "fullTitle": "个人中心 POST /api/login 用户登录-密码错误",
                "timedOut": false,
                "duration": 0,
                "state": "failed",
                "pass": false,
                "fail": true,
                "pending": false,
                "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: (new Date()).getTime().toString()\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(401);\n    done();\n});",
                "err": {
                  "message": "AssertionError: expected 500 to equal 401",
                  "estack": "AssertionError: expected 500 to equal 401\n    at test/user.test.js:88:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
                  "diff": "- 500\n+ 401\n"
                },
                "isRoot": false,
                "uuid": "3d4cf513-dfa5-4f33-9211-760447dd59de",
                "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
                "isHook": false,
                "skipped": false
              }
            ],
            "skipped": [],
            "hasBeforeHooks": false,
            "hasAfterHooks": false,
            "hasTests": true,
            "hasSuites": false,
            "totalTests": 4,
            "totalPasses": 0,
            "totalFailures": 4,
            "totalPending": 0,
            "totalSkipped": 0,
            "hasPasses": false,
            "hasFailures": true,
            "hasPending": false,
            "hasSkipped": false,
            "duration": 14,
            "rootEmpty": false
          }
        ],
        "tests": [],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/test/user.test.js",
        "uuid": "f98e5433-9482-45e9-ba20-bffee1a2e9a5",
        "beforeHooks": [],
        "afterHooks": [
          {
            "title": "\"after all\" hook",
            "fullTitle": "个人中心 \"after all\" hook",
            "timedOut": false,
            "duration": 0,
            "pass": false,
            "fail": false,
            "pending": false,
            "code": "request.del(base_url + '/admin/users').set('Authorization', token).end(function (err, res) {\n});",
            "err": {},
            "isRoot": false,
            "uuid": "1b5281e8-017e-414f-b5b9-c5388c7fb52b",
            "parentUUID": "f98e5433-9482-45e9-ba20-bffee1a2e9a5",
            "isHook": true,
            "skipped": false
          }
        ],
        "fullFile": "/Users/leon/WorkSpace/node/Node/test/user.test.js",
        "passes": [],
        "failures": [],
        "skipped": [],
        "hasBeforeHooks": false,
        "hasAfterHooks": true,
        "hasTests": false,
        "hasSuites": true,
        "totalTests": 0,
        "totalPasses": 0,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": false,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 0,
        "rootEmpty": false
      }
    ],
    "tests": [],
    "pending": [],
    "root": true,
    "_timeout": 2000,
    "uuid": "a3bd15be-7827-4c3c-9ac2-16a0bb3c3437",
    "beforeHooks": [],
    "afterHooks": [],
    "fullFile": "",
    "file": "",
    "passes": [],
    "failures": [],
    "skipped": [],
    "hasBeforeHooks": false,
    "hasAfterHooks": false,
    "hasTests": false,
    "hasSuites": true,
    "totalTests": 0,
    "totalPasses": 0,
    "totalFailures": 0,
    "totalPending": 0,
    "totalSkipped": 0,
    "hasPasses": false,
    "hasFailures": false,
    "hasPending": false,
    "hasSkipped": false,
    "duration": 0,
    "rootEmpty": true
  },
  "allTests": [
    {
      "title": "查询用户列表-未设置Authorization",
      "fullTitle": "POST /api/admin/users 查询用户列表-未设置Authorization",
      "timedOut": false,
      "duration": 37,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "7b8da301-5df8-4653-9085-d21f705a8cb5",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-无效的Token",
      "fullTitle": "POST /api/admin/users 查询用户列表-无效的Token",
      "timedOut": false,
      "duration": 11,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').set('Authorization', 'xxx.yyy.zzz').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "08fb8da5-5536-467b-89b5-514fb2e31e8e",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-普通用户无权限访问",
      "fullTitle": "POST /api/admin/users 查询用户列表-普通用户无权限访问",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').set('Authorization', user_token).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(403);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected undefined to equal 403",
        "estack": "AssertionError: expected undefined to equal 403\n    at test/admin/user.test.js:37:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
      },
      "isRoot": false,
      "uuid": "5d2d18ab-c4c3-4970-b316-b6cd23070d11",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-默认",
      "fullTitle": "POST /api/admin/users 查询用户列表-默认",
      "timedOut": false,
      "duration": 7,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "6483e2a5-471a-4547-8bdb-1414600c958a",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-模糊查询用户名",
      "fullTitle": "POST /api/admin/users 查询用户列表-模糊查询用户名",
      "timedOut": false,
      "duration": 8,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').send({\n    username: account.username\n}).set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "4d7c5802-5c2c-40f3-8b7b-04350373f75c",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-带分页参数",
      "fullTitle": "POST /api/admin/users 查询用户列表-带分页参数",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users?page=2&per_page=3').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('users', 'current_page', 'total_count');\n    expect(res.body.current_page).to.equal(2);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "265378af-2e0f-4943-8361-5e3515f8f41d",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "更改用户状态",
      "fullTitle": "PUT /api/admin/users/:id/:status 更改用户状态",
      "timedOut": false,
      "duration": 5,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.put(base_url + '/admin//users/70a5c0eb-6aba-483f-8a09-bda2f39a97fc/2').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(201);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "18c88aea-272e-4cba-b3ce-fa0accc9615d",
      "parentUUID": "6e30d9e1-b6d1-42d9-9ca2-adfcaf80eeee",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户注册-成功",
      "fullTitle": "POST /api/signup 用户注册-成功",
      "timedOut": false,
      "duration": 18,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    console.log(res.status);\n    expect(res.status).to.equal(201);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 201",
        "estack": "AssertionError: expected 200 to equal 201\n    at test/user.test.js:28:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:692:16)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 201\n"
      },
      "isRoot": false,
      "uuid": "653179b8-8b11-4683-ba49-dba9c7a22fe2",
      "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户注册-请完善注册信息",
      "fullTitle": "POST /api/signup 用户注册-请完善注册信息",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/signup').send({}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);           \n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 400",
        "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:35:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 400\n"
      },
      "isRoot": false,
      "uuid": "0bc26033-b729-4e0f-a3b2-ee7b7460e7bd",
      "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户注册-用户名已存在",
      "fullTitle": "POST /api/signup 用户注册-用户名已存在",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);       \n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 400",
        "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:42:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 400\n"
      },
      "isRoot": false,
      "uuid": "8af087a4-be35-401f-8d9e-50aeb805325d",
      "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-成功",
      "fullTitle": "POST /api/login 用户登录-成功",
      "timedOut": false,
      "duration": 14,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: account.password\n}).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('user', 'token');\n    done();\n});",
      "err": {
        "message": "Error: Internal Server Error",
        "estack": "Error: Internal Server Error\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:699:13)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
      },
      "isRoot": false,
      "uuid": "cd33f405-d0cf-4f7f-9ef6-dcfdd9538e92",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-用户名或密码不能为空",
      "fullTitle": "POST /api/login 用户登录-用户名或密码不能为空",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: '',\n    password: ''\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 400",
        "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:68:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 400\n"
      },
      "isRoot": false,
      "uuid": "49ea02b7-bcb6-43e4-ae62-26d2ac7f7c94",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-用户名不存在",
      "fullTitle": "POST /api/login 用户登录-用户名不存在",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: (new Date()).getTime().toString(),\n    password: account.password\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(404);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 500 to equal 404",
        "estack": "AssertionError: expected 500 to equal 404\n    at test/user.test.js:78:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 500\n+ 404\n"
      },
      "isRoot": false,
      "uuid": "516c7a01-2d22-4eb4-ba02-18ebec58064e",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-密码错误",
      "fullTitle": "POST /api/login 用户登录-密码错误",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: (new Date()).getTime().toString()\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(401);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 500 to equal 401",
        "estack": "AssertionError: expected 500 to equal 401\n    at test/user.test.js:88:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 500\n+ 401\n"
      },
      "isRoot": false,
      "uuid": "3d4cf513-dfa5-4f33-9211-760447dd59de",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    }
  ],
  "allPending": [],
  "allPasses": [
    {
      "title": "查询用户列表-未设置Authorization",
      "fullTitle": "POST /api/admin/users 查询用户列表-未设置Authorization",
      "timedOut": false,
      "duration": 37,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "7b8da301-5df8-4653-9085-d21f705a8cb5",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-无效的Token",
      "fullTitle": "POST /api/admin/users 查询用户列表-无效的Token",
      "timedOut": false,
      "duration": 11,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').set('Authorization', 'xxx.yyy.zzz').end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(500);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "08fb8da5-5536-467b-89b5-514fb2e31e8e",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-默认",
      "fullTitle": "POST /api/admin/users 查询用户列表-默认",
      "timedOut": false,
      "duration": 7,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "6483e2a5-471a-4547-8bdb-1414600c958a",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-模糊查询用户名",
      "fullTitle": "POST /api/admin/users 查询用户列表-模糊查询用户名",
      "timedOut": false,
      "duration": 8,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').send({\n    username: account.username\n}).set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body.users).to.be.an('array');\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "4d7c5802-5c2c-40f3-8b7b-04350373f75c",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "查询用户列表-带分页参数",
      "fullTitle": "POST /api/admin/users 查询用户列表-带分页参数",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.post(base_url + '/admin/users?page=2&per_page=3').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('users', 'current_page', 'total_count');\n    expect(res.body.current_page).to.equal(2);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "265378af-2e0f-4943-8361-5e3515f8f41d",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "更改用户状态",
      "fullTitle": "PUT /api/admin/users/:id/:status 更改用户状态",
      "timedOut": false,
      "duration": 5,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "request.put(base_url + '/admin//users/70a5c0eb-6aba-483f-8a09-bda2f39a97fc/2').set('Authorization', amdin_token).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(201);\n    done();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "18c88aea-272e-4cba-b3ce-fa0accc9615d",
      "parentUUID": "6e30d9e1-b6d1-42d9-9ca2-adfcaf80eeee",
      "isHook": false,
      "skipped": false
    }
  ],
  "allFailures": [
    {
      "title": "查询用户列表-普通用户无权限访问",
      "fullTitle": "POST /api/admin/users 查询用户列表-普通用户无权限访问",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/admin/users').set('Authorization', user_token).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(403);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected undefined to equal 403",
        "estack": "AssertionError: expected undefined to equal 403\n    at test/admin/user.test.js:37:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
      },
      "isRoot": false,
      "uuid": "5d2d18ab-c4c3-4970-b316-b6cd23070d11",
      "parentUUID": "2881fc89-e526-4fe9-a0cc-a03f2c95383e",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户注册-成功",
      "fullTitle": "POST /api/signup 用户注册-成功",
      "timedOut": false,
      "duration": 18,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    console.log(res.status);\n    expect(res.status).to.equal(201);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 201",
        "estack": "AssertionError: expected 200 to equal 201\n    at test/user.test.js:28:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:692:16)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 201\n"
      },
      "isRoot": false,
      "uuid": "653179b8-8b11-4683-ba49-dba9c7a22fe2",
      "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户注册-请完善注册信息",
      "fullTitle": "POST /api/signup 用户注册-请完善注册信息",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/signup').send({}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);           \n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 400",
        "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:35:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 400\n"
      },
      "isRoot": false,
      "uuid": "0bc26033-b729-4e0f-a3b2-ee7b7460e7bd",
      "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户注册-用户名已存在",
      "fullTitle": "POST /api/signup 用户注册-用户名已存在",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/signup').send(account).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);       \n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 400",
        "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:42:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 400\n"
      },
      "isRoot": false,
      "uuid": "8af087a4-be35-401f-8d9e-50aeb805325d",
      "parentUUID": "86e89460-160a-4853-97f7-581a68c229ab",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-成功",
      "fullTitle": "POST /api/login 用户登录-成功",
      "timedOut": false,
      "duration": 14,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: account.password\n}).end(function (err, res) {\n    if (err) {\n        return done(err);\n    }\n    expect(res.status).to.equal(200);\n    expect(res.body).to.have.any.keys('user', 'token');\n    done();\n});",
      "err": {
        "message": "Error: Internal Server Error",
        "estack": "Error: Internal Server Error\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:699:13)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)"
      },
      "isRoot": false,
      "uuid": "cd33f405-d0cf-4f7f-9ef6-dcfdd9538e92",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-用户名或密码不能为空",
      "fullTitle": "POST /api/login 用户登录-用户名或密码不能为空",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: '',\n    password: ''\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(400);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 200 to equal 400",
        "estack": "AssertionError: expected 200 to equal 400\n    at test/user.test.js:68:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at IncomingMessage.parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 200\n+ 400\n"
      },
      "isRoot": false,
      "uuid": "49ea02b7-bcb6-43e4-ae62-26d2ac7f7c94",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-用户名不存在",
      "fullTitle": "POST /api/login 用户登录-用户名不存在",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: (new Date()).getTime().toString(),\n    password: account.password\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(res.status).to.equal(404);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 500 to equal 404",
        "estack": "AssertionError: expected 500 to equal 404\n    at test/user.test.js:78:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 500\n+ 404\n"
      },
      "isRoot": false,
      "uuid": "516c7a01-2d22-4eb4-ba02-18ebec58064e",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    },
    {
      "title": "用户登录-密码错误",
      "fullTitle": "POST /api/login 用户登录-密码错误",
      "timedOut": false,
      "duration": 0,
      "state": "failed",
      "pass": false,
      "fail": true,
      "pending": false,
      "code": "request.post(base_url + '/login').send({\n    username: account.username,\n    password: (new Date()).getTime().toString()\n}).end(function (err, res) {\n    expect(err).to.not.be.null;\n    expect(err.status).to.equal(401);\n    done();\n});",
      "err": {
        "message": "AssertionError: expected 500 to equal 401",
        "estack": "AssertionError: expected 500 to equal 401\n    at test/user.test.js:88:39\n    at Request.callback (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:715:3)\n    at parser (node_modules/_superagent@3.8.0@superagent/lib/node/index.js:903:18)\n    at IncomingMessage.res.on (node_modules/_superagent@3.8.0@superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1059:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
        "diff": "- 500\n+ 401\n"
      },
      "isRoot": false,
      "uuid": "3d4cf513-dfa5-4f33-9211-760447dd59de",
      "parentUUID": "6f5ebf13-47b7-405f-9622-65356c70d7fe",
      "isHook": false,
      "skipped": false
    }
  ],
  "copyrightYear": 2017
}